\usepackage{color}


% Touch the file disable_peanut_gallery.tex to turn off the
% annotations, or just manually define \noeditingmarks.
\InputIfFileExists{disable_peanut_gallery}{
    \def\noeditingmarks{} 
}{}

\definecolor{comment-red}{rgb}{0.8,0,0}

\ifx\noeditingmarks\undefined
   \newcommand{\textred}[1]{\textcolor{comment-red}{#1}}
   \newcommand{\pgwrapper}[2]{\textred{(#1: #2)}}
   \newcommand{\todo}[1]{\begin{itemize}\item{\textcolor{blue}{#1}}\end{itemize}}
   \newcommand{\new}[1]{\textcolor{blue}{#1}}
   \newcommand{\const}[1]{\textred{#1}}

   %\definecolor{mygrey}{rgb}{0.6,0.6,0.6}
   \definecolor{mygrey}{rgb}{0.7,0.7,0.7}

   %% RRN: Dim the background for Ryan's eyes:
   %% Hack: do this ONLY on Ryan's machine.
   %%  I don't know a way based on user or host name, so...
   %%  instead I just signal on a file, activategreybg.tex which I 
   %%  don't then checkin.
   \InputIfFileExists{activategreybg}{
       \definecolor{comment-red}{rgb}{0.5,0,0}
       \pagecolor{mygrey}
   }{} 

\else
   \newcommand{\textred}[1]{#1}
%   \newcommand{\textred}[1]{\textcolor{comment-red}{#1}}
   \newcommand{\pgwrapper}[2]{}
   \newcommand{\todo}[1]{}
   \newcommand{\new}[1]{#1}
%   \newcommand{\new}[1]{\textcolor{blue}{#1}}
   \newcommand{\const}[1]{#1}
   \def\nobreakpages{} 
\fi


\newcommand{\rn}[1]{\pgwrapper{RRN}{#1}}
\newcommand{\ea}[1]{\pgwrapper{ECA}{#1}}
